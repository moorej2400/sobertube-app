# SoberTube Local Development Environment Configuration
# Copy this file to .env.local and update the values

# ===========================================
# Database Configuration
# ===========================================
POSTGRES_PASSWORD=your_super_secure_postgres_password
POSTGRES_DB=postgres
POSTGRES_USER=supabase_admin
POSTGRES_PORT=5432

# ===========================================
# Authentication & JWT Configuration
# ===========================================
JWT_SECRET=your_jwt_secret_key_here_at_least_32_characters_long
REALTIME_ENCRYPTION_KEY=your_32_character_encryption_key_here
REALTIME_SECRET_KEY_BASE=your_64_character_secret_key_base_here_make_it_very_long_and_secure

# GoTrue specific settings
GOTRUE_DISABLE_SIGNUP=false
GOTRUE_LOG_LEVEL=info
GOTRUE_RATE_LIMIT_EMAIL_SENT=60
GOTRUE_PASSWORD_MIN_LENGTH=8

# ===========================================
# Application URLs
# ===========================================
API_EXTERNAL_URL=http://localhost:8000
GOTRUE_URL=http://localhost:9999
SITE_URL=http://localhost:3000
SUPABASE_URL=http://localhost:8000

# ===========================================
# Email Configuration (Local SMTP)
# ===========================================
SMTP_HOST=inbucket
SMTP_PORT=2500
SMTP_USER=
SMTP_PASS=
SMTP_ADMIN_EMAIL=admin@sobertube.local

# ===========================================
# OAuth Providers (Optional for Development)
# ===========================================
GOTRUE_EXTERNAL_GOOGLE_ENABLED=false
GOTRUE_EXTERNAL_GOOGLE_CLIENT_ID=your_google_client_id
GOTRUE_EXTERNAL_GOOGLE_SECRET=your_google_client_secret

GOTRUE_EXTERNAL_FACEBOOK_ENABLED=false
GOTRUE_EXTERNAL_FACEBOOK_CLIENT_ID=your_facebook_app_id
GOTRUE_EXTERNAL_FACEBOOK_SECRET=your_facebook_app_secret

# ===========================================
# Storage Configuration
# ===========================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_DEFAULT_BUCKETS=sobertube-storage

# ===========================================
# Supabase Keys (Development Keys - NOT for Production)
# ===========================================
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# ===========================================
# Redis Configuration
# ===========================================
REDIS_PASSWORD=sobertube_redis_password
REDIS_URL=redis://:sobertube_redis_password@localhost:6379

# ===========================================
# Monitoring Configuration
# ===========================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ===========================================
# Development Flags
# ===========================================
NODE_ENV=development
DEBUG=true
LOG_LEVEL=debug

# ===========================================
# Feature Flags
# ===========================================
ENABLE_REALTIME=true
ENABLE_EDGE_FUNCTIONS=true
ENABLE_IMAGE_TRANSFORMATION=true
ENABLE_MONITORING=true

# ===========================================
# Security Configuration
# ===========================================
ENABLE_CORS=true
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
RATE_LIMIT_ENABLED=false
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=900000

# ===========================================
# File Upload Configuration
# ===========================================
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,video/mp4,video/quicktime
MAX_VIDEO_DURATION=300

# ===========================================
# Database Connection Pool
# ===========================================
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# ===========================================
# Logging Configuration
# ===========================================
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_LOGGING=true
LOG_FORMAT=json
LOG_ROTATION=daily

# Service-specific log levels
PGRST_LOG_LEVEL=info
STORAGE_LOG_LEVEL=info
IMGPROXY_LOG_LEVEL=info

# ===========================================
# Cache Configuration
# ===========================================
CACHE_TTL=3600
CACHE_MAX_ITEMS=1000
ENABLE_QUERY_CACHE=true

# ===========================================
# WebSocket Configuration
# ===========================================
WS_HEARTBEAT_INTERVAL=25000
WS_HEARTBEAT_TIMEOUT=60000
WS_MAX_CONNECTIONS=1000

# ===========================================
# Development Tools
# ===========================================
ENABLE_GRAPHQL_PLAYGROUND=true
ENABLE_API_DOCS=true
ENABLE_HEALTH_CHECKS=true

# ===========================================
# Backup Configuration
# ===========================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7

# ===========================================
# Notifications Configuration
# ===========================================
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=false
NOTIFICATION_QUEUE_ENABLED=true